# TÃ i Liá»‡u Chi Tiáº¿t Quáº£n LÃ½ Tá»“n Kho

## 1. Giá»›i Thiá»‡u

Há»‡ thá»‘ng quáº£n lÃ½ tá»“n kho lÃ  má»™t pháº§n quan trá»ng cá»§a á»©ng dá»¥ng quáº£n lÃ½ nhÃ  hÃ ng, giÃºp theo dÃµi vÃ  quáº£n lÃ½ nguyÃªn liá»‡u, váº­t tÆ°, Ä‘áº£m báº£o nguá»“n cung á»©ng á»•n Ä‘á»‹nh cho hoáº¡t Ä‘á»™ng kinh doanh. Há»‡ thá»‘ng há»— trá»£ quáº£n lÃ½ nguyÃªn liá»‡u, nhÃ  cung cáº¥p, Ä‘Æ¡n Ä‘áº·t hÃ ng, giao dá»‹ch kho, theo dÃµi lÃ´ hÃ ng, cáº£nh bÃ¡o tá»“n kho vÃ  bÃ¡o cÃ¡o phÃ¢n tÃ­ch.

---

## 2. CÃ¡c ThÃ nh Pháº§n ChÃ­nh

### 2.1 NguyÃªn Liá»‡u (Ingredients)
- **Äá»‹nh nghÄ©a**: CÃ¡c nguyÃªn liá»‡u thÃ´, gia vá»‹, váº­t tÆ° phá»¥c vá»¥ sáº£n xuáº¥t mÃ³n Äƒn
- **Má»¥c Ä‘Ã­ch**: Theo dÃµi sá»‘ lÆ°á»£ng tá»“n kho, chi phÃ­, vÃ  quáº£n lÃ½ nguá»“n cung
- **ThÃ´ng tin chá»©a**:
  - MÃ£ nguyÃªn liá»‡u (ingredientCode)
  - TÃªn nguyÃªn liá»‡u
  - ÄÆ¡n vá»‹ tÃ­nh (kg, g, lÃ­t, ml, v.v.)
  - Danh má»¥c nguyÃªn liá»‡u
  - Tá»“n kho tá»‘i thiá»ƒu (minimumStock)
  - Tá»“n kho hiá»‡n táº¡i (currentStock)
  - GiÃ¡ Ä‘Æ¡n vá»‹ (unitCost)
  - Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng

### 2.2 Danh Má»¥c NguyÃªn Liá»‡u (Ingredient Categories)
- **Äá»‹nh nghÄ©a**: PhÃ¢n loáº¡i nguyÃªn liá»‡u theo nhÃ³m (Thá»‹t, Háº£i sáº£n, Rau cá»§, Gia vá»‹, v.v.)
- **Má»¥c Ä‘Ã­ch**: Tá»• chá»©c vÃ  quáº£n lÃ½ nguyÃªn liá»‡u cÃ³ há»‡ thá»‘ng
- **ThÃ´ng tin chá»©a**:
  - TÃªn danh má»¥c
  - MÃ´ táº£
  - Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng

### 2.3 NhÃ  Cung Cáº¥p (Suppliers)
- **Äá»‹nh nghÄ©a**: CÃ¡c Ä‘á»‘i tÃ¡c cung cáº¥p nguyÃªn liá»‡u cho nhÃ  hÃ ng
- **Má»¥c Ä‘Ã­ch**: Quáº£n lÃ½ thÃ´ng tin liÃªn há»‡, Ä‘iá»u khoáº£n thanh toÃ¡n vá»›i nhÃ  cung cáº¥p
- **ThÃ´ng tin chá»©a**:
  - MÃ£ nhÃ  cung cáº¥p (supplierCode)
  - TÃªn nhÃ  cung cáº¥p
  - NgÆ°á»i liÃªn há»‡
  - Sá»‘ Ä‘iá»‡n thoáº¡i, Email
  - Äá»‹a chá»‰
  - MÃ£ sá»‘ thuáº¿
  - Äiá»u khoáº£n thanh toÃ¡n
  - Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng

### 2.4 ÄÆ¡n Äáº·t HÃ ng (Purchase Orders)
- **Äá»‹nh nghÄ©a**: ÄÆ¡n hÃ ng Ä‘áº·t mua nguyÃªn liá»‡u tá»« nhÃ  cung cáº¥p
- **Má»¥c Ä‘Ã­ch**: Theo dÃµi quy trÃ¬nh mua hÃ ng tá»« Ä‘áº·t hÃ ng Ä‘áº¿n nháº­n hÃ ng
- **ThÃ´ng tin chá»©a**:
  - Sá»‘ Ä‘Æ¡n hÃ ng (orderNumber)
  - NhÃ  cung cáº¥p
  - NhÃ¢n viÃªn Ä‘áº·t hÃ ng
  - NgÃ y Ä‘áº·t hÃ ng
  - NgÃ y dá»± kiáº¿n nháº­n (expectedDate)
  - NgÃ y nháº­n thá»±c táº¿ (receivedDate)
  - Tráº¡ng thÃ¡i (pending, ordered, received, cancelled)
  - Tá»•ng tiá»n trÆ°á»›c thuáº¿ (subtotal)
  - Thuáº¿ (taxAmount)
  - Tá»•ng tiá»n (totalAmount)
  - Ghi chÃº

### 2.5 Giao Dá»‹ch Kho (Stock Transactions)
- **Äá»‹nh nghÄ©a**: CÃ¡c giao dá»‹ch nháº­p/xuáº¥t/Ä‘iá»u chá»‰nh tá»“n kho
- **Má»¥c Ä‘Ã­ch**: Theo dÃµi lá»‹ch sá»­ biáº¿n Ä‘á»™ng tá»“n kho
- **Loáº¡i giao dá»‹ch**:
  - **in**: Nháº­p kho (tá»« Ä‘Æ¡n Ä‘áº·t hÃ ng)
  - **out**: Xuáº¥t kho (sá»­ dá»¥ng cho sáº£n xuáº¥t)
  - **adjustment**: Äiá»u chá»‰nh (kiá»ƒm kÃª, sá»­a lá»—i)
  - **waste**: Hao há»¥t (hÆ° há»ng, háº¿t háº¡n)

### 2.6 LÃ´ HÃ ng (Ingredient Batches)
- **Äá»‹nh nghÄ©a**: Theo dÃµi tá»«ng lÃ´ nguyÃªn liá»‡u nháº­p vá»
- **Má»¥c Ä‘Ã­ch**: Quáº£n lÃ½ háº¡n sá»­ dá»¥ng, truy xuáº¥t nguá»“n gá»‘c
- **ThÃ´ng tin chá»©a**:
  - Sá»‘ lÃ´ (batchNumber)
  - NguyÃªn liá»‡u
  - Sá»‘ lÆ°á»£ng ban Ä‘áº§u (quantity)
  - Sá»‘ lÆ°á»£ng cÃ²n láº¡i (remainingQuantity)
  - GiÃ¡ Ä‘Æ¡n vá»‹ (unitCost)
  - Háº¡n sá»­ dá»¥ng (expiryDate)
  - NgÃ y nháº­n (receivedDate)
  - LiÃªn káº¿t Ä‘Æ¡n Ä‘áº·t hÃ ng

### 2.7 Cáº£nh BÃ¡o Tá»“n Kho (Stock Alerts)
- **Äá»‹nh nghÄ©a**: ThÃ´ng bÃ¡o tá»± Ä‘á»™ng khi cÃ³ váº¥n Ä‘á» vá» tá»“n kho
- **Loáº¡i cáº£nh bÃ¡o**:
  - **low_stock**: Tá»“n kho tháº¥p hÆ¡n má»©c tá»‘i thiá»ƒu
  - **expiring_soon**: Sáº¯p háº¿t háº¡n (trong 7 ngÃ y)
  - **expired**: ÄÃ£ háº¿t háº¡n
- **ThÃ´ng tin chá»©a**:
  - NguyÃªn liá»‡u bá»‹ cáº£nh bÃ¡o
  - Loáº¡i cáº£nh bÃ¡o
  - ThÃ´ng Ä‘iá»‡p
  - Tráº¡ng thÃ¡i xá»­ lÃ½ (isResolved)
  - NgÆ°á»i xá»­ lÃ½
  - Thá»i gian táº¡o/xá»­ lÃ½

### 2.8 CÃ´ng Thá»©c (Recipes)
- **Äá»‹nh nghÄ©a**: Äá»‹nh lÆ°á»£ng nguyÃªn liá»‡u cáº§n thiáº¿t cho tá»«ng mÃ³n Äƒn
- **Má»¥c Ä‘Ã­ch**: TÃ­nh toÃ¡n tiÃªu hao nguyÃªn liá»‡u khi sáº£n xuáº¥t mÃ³n Äƒn
- **ThÃ´ng tin chá»©a**:
  - MÃ³n Äƒn (itemId)
  - NguyÃªn liá»‡u (ingredientId)
  - Sá»‘ lÆ°á»£ng cáº§n (quantity)
  - ÄÆ¡n vá»‹
  - Ghi chÃº

---

## 3. CÃ¡c Nghiá»‡p Vá»¥ Chi Tiáº¿t

### 3.1 Quáº£n LÃ½ NguyÃªn Liá»‡u

#### 3.1.1 Táº¡o NguyÃªn Liá»‡u Má»›i

**Má»¥c tiÃªu**: ThÃªm nguyÃªn liá»‡u má»›i vÃ o há»‡ thá»‘ng quáº£n lÃ½ kho

**NgÆ°á»i tham gia chÃ­nh**: Quáº£n lÃ½ kho, Quáº£n lÃ½ nhÃ  hÃ ng

**Äiá»u kiá»‡n tiÃªn quyáº¿t**:
- NgÆ°á»i dÃ¹ng cÃ³ quyá»n "Quáº£n lÃ½ Kho"
- MÃ£ nguyÃªn liá»‡u chÆ°a tá»“n táº¡i trong há»‡ thá»‘ng
- Danh má»¥c nguyÃªn liá»‡u Ä‘Ã£ Ä‘Æ°á»£c táº¡o

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: NgÆ°á»i dÃ¹ng truy cáº­p "Quáº£n LÃ½ Kho" â†’ "NguyÃªn Liá»‡u"
2. **BÆ°á»›c 2**: Nháº¥n nÃºt "ThÃªm NguyÃªn Liá»‡u Má»›i"
3. **BÆ°á»›c 3**: Äiá»n thÃ´ng tin nguyÃªn liá»‡u:
   - **MÃ£ nguyÃªn liá»‡u**: MÃ£ duy nháº¥t (vÃ­ dá»¥: NL001, MEAT001)
   - **TÃªn nguyÃªn liá»‡u**: TÃªn Ä‘áº§y Ä‘á»§ (vÃ­ dá»¥: "Thá»‹t bÃ² Ãšc", "CÃ  chua")
   - **ÄÆ¡n vá»‹ tÃ­nh**: Chá»n Ä‘Æ¡n vá»‹ (kg, g, lÃ­t, ml, cÃ¡i, v.v.)
   - **Danh má»¥c**: Chá»n danh má»¥c nguyÃªn liá»‡u
   - **Tá»“n kho tá»‘i thiá»ƒu**: Má»©c cáº£nh bÃ¡o (vÃ­ dá»¥: 10 kg)
   - **Tá»“n kho hiá»‡n táº¡i**: Sá»‘ lÆ°á»£ng ban Ä‘áº§u (máº·c Ä‘á»‹nh 0)
   - **GiÃ¡ Ä‘Æ¡n vá»‹**: GiÃ¡ mua trung bÃ¬nh (tÃ¹y chá»n)
4. **BÆ°á»›c 4**: Há»‡ thá»‘ng kiá»ƒm tra:
   - MÃ£ nguyÃªn liá»‡u cÃ³ duy nháº¥t khÃ´ng
   - CÃ¡c trÆ°á»ng báº¯t buá»™c Ä‘Ã£ Ä‘iá»n Ä‘á»§ chÆ°a
   - Sá»‘ liá»‡u cÃ³ há»£p lá»‡ khÃ´ng (sá»‘ dÆ°Æ¡ng)
5. **BÆ°á»›c 5**: Náº¿u há»£p lá»‡, lÆ°u vÃ o database
6. **BÆ°á»›c 6**: ThÃ´ng bÃ¡o thÃ nh cÃ´ng
7. **BÆ°á»›c 7**: Hiá»ƒn thá»‹ nguyÃªn liá»‡u má»›i trong danh sÃ¡ch

**Xá»­ lÃ½ lá»—i**:
- MÃ£ nguyÃªn liá»‡u Ä‘Ã£ tá»“n táº¡i: "MÃ£ nguyÃªn liá»‡u Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng"
- Dá»¯ liá»‡u khÃ´ng há»£p lá»‡: "Vui lÃ²ng kiá»ƒm tra láº¡i thÃ´ng tin nháº­p"
- Tá»“n kho Ã¢m: "Sá»‘ lÆ°á»£ng tá»“n kho pháº£i lÃ  sá»‘ khÃ´ng Ã¢m"

**Ghi log**:
- NgÆ°á»i dÃ¹ng: [username]
- HÃ nh Ä‘á»™ng: Táº¡o nguyÃªn liá»‡u
- MÃ£ nguyÃªn liá»‡u: [ingredientCode]
- Thá»i gian: [timestamp]

---

#### 3.1.2 Xem Danh SÃ¡ch NguyÃªn Liá»‡u

**Má»¥c tiÃªu**: Xem vÃ  tÃ¬m kiáº¿m nguyÃªn liá»‡u trong kho

**NgÆ°á»i tham gia chÃ­nh**: Táº¥t cáº£ nhÃ¢n viÃªn cÃ³ quyá»n truy cáº­p kho

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: Truy cáº­p "Quáº£n LÃ½ Kho" â†’ "NguyÃªn Liá»‡u"
2. **BÆ°á»›c 2**: Há»‡ thá»‘ng hiá»ƒn thá»‹ danh sÃ¡ch nguyÃªn liá»‡u vá»›i:
   - MÃ£ nguyÃªn liá»‡u
   - TÃªn nguyÃªn liá»‡u
   - Danh má»¥c
   - Tá»“n kho hiá»‡n táº¡i
   - ÄÆ¡n vá»‹ tÃ­nh
   - Tráº¡ng thÃ¡i tá»“n kho (Äá»§, Tháº¥p, Háº¿t hÃ ng)
   - NÃºt hÃ nh Ä‘á»™ng (Xem, Sá»­a, Nháº­p kho, Xuáº¥t kho)
3. **BÆ°á»›c 3**: CÃ³ thá»ƒ lá»c theo:
   - Danh má»¥c nguyÃªn liá»‡u
   - Tráº¡ng thÃ¡i tá»“n kho
   - Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng
4. **BÆ°á»›c 4**: CÃ³ thá»ƒ tÃ¬m kiáº¿m theo:
   - MÃ£ nguyÃªn liá»‡u
   - TÃªn nguyÃªn liá»‡u
5. **BÆ°á»›c 5**: Sáº¯p xáº¿p theo:
   - TÃªn (A-Z, Z-A)
   - Tá»“n kho (Cao-Tháº¥p, Tháº¥p-Cao)
   - NgÃ y cáº­p nháº­t

**Hiá»ƒn thá»‹ cáº£nh bÃ¡o**:
- ğŸ”´ Háº¿t hÃ ng: currentStock = 0
- ğŸŸ¡ Tá»“n kho tháº¥p: currentStock < minimumStock
- ğŸŸ¢ Äá»§ hÃ ng: currentStock >= minimumStock

---

#### 3.1.3 Cáº­p Nháº­t ThÃ´ng Tin NguyÃªn Liá»‡u

**Má»¥c tiÃªu**: Chá»‰nh sá»­a thÃ´ng tin nguyÃªn liá»‡u

**NgÆ°á»i tham gia chÃ­nh**: Quáº£n lÃ½ kho, Quáº£n lÃ½ nhÃ  hÃ ng

**Äiá»u kiá»‡n tiÃªn quyáº¿t**:
- NguyÃªn liá»‡u tá»“n táº¡i
- NgÆ°á»i dÃ¹ng cÃ³ quyá»n chá»‰nh sá»­a

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: Tá»« danh sÃ¡ch nguyÃªn liá»‡u, nháº¥n nÃºt "Sá»­a"
2. **BÆ°á»›c 2**: Má»Ÿ form chá»‰nh sá»­a vá»›i thÃ´ng tin hiá»‡n táº¡i
3. **BÆ°á»›c 3**: Cáº­p nháº­t cÃ¡c thÃ´ng tin cáº§n thiáº¿t:
   - TÃªn nguyÃªn liá»‡u: âœ“
   - ÄÆ¡n vá»‹ tÃ­nh: âœ“ (cáº©n tháº­n khi thay Ä‘á»•i)
   - Danh má»¥c: âœ“
   - Tá»“n kho tá»‘i thiá»ƒu: âœ“
   - GiÃ¡ Ä‘Æ¡n vá»‹: âœ“
   - Tráº¡ng thÃ¡i: âœ“
   - MÃ£ nguyÃªn liá»‡u: âœ— (khÃ´ng cho phÃ©p thay Ä‘á»•i)
   - Tá»“n kho hiá»‡n táº¡i: âœ— (chá»‰ thay Ä‘á»•i qua giao dá»‹ch)
4. **BÆ°á»›c 4**: Há»‡ thá»‘ng kiá»ƒm tra dá»¯ liá»‡u
5. **BÆ°á»›c 5**: LÆ°u thay Ä‘á»•i
6. **BÆ°á»›c 6**: Ghi log thay Ä‘á»•i

**LÆ°u Ã½**:
- KhÃ´ng thá»ƒ thay Ä‘á»•i tá»“n kho hiá»‡n táº¡i trá»±c tiáº¿p
- Pháº£i sá»­ dá»¥ng giao dá»‹ch kho Ä‘á»ƒ nháº­p/xuáº¥t/Ä‘iá»u chá»‰nh

---

#### 3.1.4 VÃ´ Hiá»‡u HÃ³a NguyÃªn Liá»‡u

**Má»¥c tiÃªu**: Ngá»«ng sá»­ dá»¥ng nguyÃªn liá»‡u mÃ  khÃ´ng xÃ³a khá»i há»‡ thá»‘ng

**NgÆ°á»i tham gia chÃ­nh**: Quáº£n lÃ½ kho, Quáº£n lÃ½ nhÃ  hÃ ng

**Äiá»u kiá»‡n tiÃªn quyáº¿t**:
- NguyÃªn liá»‡u tá»“n táº¡i
- KhÃ´ng cÃ³ giao dá»‹ch Ä‘ang chá» xá»­ lÃ½

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: Chá»n nguyÃªn liá»‡u cáº§n vÃ´ hiá»‡u hÃ³a
2. **BÆ°á»›c 2**: Nháº¥n nÃºt "VÃ´ hiá»‡u hÃ³a"
3. **BÆ°á»›c 3**: XÃ¡c nháº­n hÃ nh Ä‘á»™ng
4. **BÆ°á»›c 4**: Há»‡ thá»‘ng cáº­p nháº­t tráº¡ng thÃ¡i isActive = false
5. **BÆ°á»›c 5**: NguyÃªn liá»‡u khÃ´ng hiá»ƒn thá»‹ trong danh sÃ¡ch hoáº¡t Ä‘á»™ng
6. **BÆ°á»›c 6**: Dá»¯ liá»‡u lá»‹ch sá»­ váº«n Ä‘Æ°á»£c giá»¯ nguyÃªn

**Lá»£i Ã­ch**:
- Giá»¯ láº¡i lá»‹ch sá»­ giao dá»‹ch
- CÃ³ thá»ƒ kÃ­ch hoáº¡t láº¡i khi cáº§n
- BÃ¡o cÃ¡o váº«n chÃ­nh xÃ¡c

---

### 3.2 Quáº£n LÃ½ Danh Má»¥c NguyÃªn Liá»‡u

#### 3.2.1 Táº¡o Danh Má»¥c NguyÃªn Liá»‡u

**Má»¥c tiÃªu**: Táº¡o nhÃ³m phÃ¢n loáº¡i cho nguyÃªn liá»‡u

**NgÆ°á»i tham gia chÃ­nh**: Quáº£n lÃ½ kho, Quáº£n lÃ½ nhÃ  hÃ ng

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: Truy cáº­p "Quáº£n LÃ½ Kho" â†’ "Danh Má»¥c NguyÃªn Liá»‡u"
2. **BÆ°á»›c 2**: Nháº¥n "Táº¡o Danh Má»¥c Má»›i"
3. **BÆ°á»›c 3**: Äiá»n thÃ´ng tin:
   - **TÃªn danh má»¥c**: VÃ­ dá»¥ "Thá»‹t", "Háº£i sáº£n", "Rau cá»§", "Gia vá»‹"
   - **MÃ´ táº£**: MÃ´ táº£ chi tiáº¿t vá» nhÃ³m nguyÃªn liá»‡u
4. **BÆ°á»›c 4**: LÆ°u danh má»¥c
5. **BÆ°á»›c 5**: Danh má»¥c má»›i cÃ³ thá»ƒ sá»­ dá»¥ng ngay

**Danh má»¥c gá»£i Ã½**:
- Thá»‹t (Thá»‹t bÃ², heo, gÃ , v.v.)
- Háº£i sáº£n (TÃ´m, cÃ¡, má»±c, v.v.)
- Rau cá»§ (Rau xanh, cá»§ quáº£)
- Gia vá»‹ (Muá»‘i, Ä‘Æ°á»ng, gia vá»‹ khÃ´)
- NÆ°á»›c sá»‘t (TÆ°Æ¡ng, dáº§u Äƒn, nÆ°á»›c máº¯m)
- Äá»“ khÃ´ (MÃ¬, bÃºn, phá»Ÿ)
- Äá»“ Ä‘Ã´ng láº¡nh
- Äá»“ uá»‘ng (NÆ°á»›c ngá»t, bia, rÆ°á»£u)
- Váº­t tÆ° tiÃªu hao (TÃºi, há»™p, Ä‘Å©a)

---

### 3.3 Quáº£n LÃ½ NhÃ  Cung Cáº¥p

#### 3.3.1 ThÃªm NhÃ  Cung Cáº¥p Má»›i

**Má»¥c tiÃªu**: ThÃªm Ä‘á»‘i tÃ¡c cung cáº¥p nguyÃªn liá»‡u

**NgÆ°á»i tham gia chÃ­nh**: Quáº£n lÃ½ mua hÃ ng, Quáº£n lÃ½ nhÃ  hÃ ng

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: Truy cáº­p "Quáº£n LÃ½ Kho" â†’ "NhÃ  Cung Cáº¥p"
2. **BÆ°á»›c 2**: Nháº¥n "ThÃªm NhÃ  Cung Cáº¥p"
3. **BÆ°á»›c 3**: Äiá»n thÃ´ng tin:
   - **MÃ£ nhÃ  cung cáº¥p**: MÃ£ duy nháº¥t (SUP001, NCC001)
   - **TÃªn cÃ´ng ty**: TÃªn Ä‘áº§y Ä‘á»§ cá»§a nhÃ  cung cáº¥p
   - **NgÆ°á»i liÃªn há»‡**: TÃªn ngÆ°á»i Ä‘áº¡i diá»‡n
   - **Sá»‘ Ä‘iá»‡n thoáº¡i**: Sá»‘ liÃªn láº¡c chÃ­nh
   - **Email**: Email liÃªn há»‡
   - **Äá»‹a chá»‰**: Äá»‹a chá»‰ Ä‘áº§y Ä‘á»§
   - **MÃ£ sá»‘ thuáº¿**: MÃ£ sá»‘ thuáº¿ doanh nghiá»‡p
   - **Äiá»u khoáº£n thanh toÃ¡n**: VÃ­ dá»¥ "Thanh toÃ¡n trong 30 ngÃ y"
4. **BÆ°á»›c 4**: Kiá»ƒm tra mÃ£ nhÃ  cung cáº¥p duy nháº¥t
5. **BÆ°á»›c 5**: LÆ°u thÃ´ng tin
6. **BÆ°á»›c 6**: NhÃ  cung cáº¥p sáºµn sÃ ng Ä‘á»ƒ táº¡o Ä‘Æ¡n hÃ ng

**ThÃ´ng tin bá»• sung**:
- Lá»‹ch sá»­ giao dá»‹ch
- ÄÃ¡nh giÃ¡ cháº¥t lÆ°á»£ng
- Tá»•ng giÃ¡ trá»‹ Ä‘Æ¡n hÃ ng
- Tá»· lá»‡ giao hÃ ng Ä‘Ãºng háº¡n

---

#### 3.3.2 Quáº£n LÃ½ ThÃ´ng Tin NhÃ  Cung Cáº¥p

**Má»¥c tiÃªu**: Cáº­p nháº­t vÃ  theo dÃµi nhÃ  cung cáº¥p

**Chá»©c nÄƒng**:
- Xem danh sÃ¡ch nhÃ  cung cáº¥p
- Cáº­p nháº­t thÃ´ng tin liÃªn há»‡
- Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
- ÄÃ¡nh giÃ¡ hiá»‡u suáº¥t
- VÃ´ hiá»‡u hÃ³a nhÃ  cung cáº¥p khÃ´ng cÃ²n há»£p tÃ¡c

---

### 3.4 Quáº£n LÃ½ ÄÆ¡n Äáº·t HÃ ng

#### 3.4.1 Táº¡o ÄÆ¡n Äáº·t HÃ ng Má»›i

**Má»¥c tiÃªu**: Äáº·t hÃ ng nguyÃªn liá»‡u tá»« nhÃ  cung cáº¥p

**NgÆ°á»i tham gia chÃ­nh**: Quáº£n lÃ½ kho, NhÃ¢n viÃªn mua hÃ ng

**Äiá»u kiá»‡n tiÃªn quyáº¿t**:
- NgÆ°á»i dÃ¹ng cÃ³ quyá»n táº¡o Ä‘Æ¡n hÃ ng
- NhÃ  cung cáº¥p Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p
- NguyÃªn liá»‡u cáº§n Ä‘áº·t Ä‘Ã£ cÃ³ trong há»‡ thá»‘ng

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: Truy cáº­p "Quáº£n LÃ½ Kho" â†’ "ÄÆ¡n Äáº·t HÃ ng"
2. **BÆ°á»›c 2**: Nháº¥n "Táº¡o ÄÆ¡n Äáº·t HÃ ng Má»›i"
3. **BÆ°á»›c 3**: Chá»n nhÃ  cung cáº¥p
4. **BÆ°á»›c 4**: Nháº­p thÃ´ng tin Ä‘Æ¡n hÃ ng:
   - NgÃ y Ä‘áº·t hÃ ng: Tá»± Ä‘á»™ng (ngÃ y hiá»‡n táº¡i)
   - NgÃ y dá»± kiáº¿n nháº­n: Chá»n ngÃ y
   - Ghi chÃº: ThÃ´ng tin bá»• sung
5. **BÆ°á»›c 5**: ThÃªm nguyÃªn liá»‡u vÃ o Ä‘Æ¡n:
   - Chá»n nguyÃªn liá»‡u
   - Nháº­p sá»‘ lÆ°á»£ng
   - Nháº­p Ä‘Æ¡n giÃ¡
   - Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ­nh thÃ nh tiá»n
   - CÃ³ thá»ƒ thÃªm nhiá»u nguyÃªn liá»‡u
6. **BÆ°á»›c 6**: Há»‡ thá»‘ng tÃ­nh toÃ¡n:
   - Tá»•ng tiá»n trÆ°á»›c thuáº¿ (subtotal)
   - Thuáº¿ VAT (taxAmount) - máº·c Ä‘á»‹nh 10%
   - Tá»•ng tiá»n thanh toÃ¡n (totalAmount)
7. **BÆ°á»›c 7**: Xem trÆ°á»›c vÃ  xÃ¡c nháº­n Ä‘Æ¡n hÃ ng
8. **BÆ°á»›c 8**: LÆ°u Ä‘Æ¡n vá»›i tráº¡ng thÃ¡i "pending"
9. **BÆ°á»›c 9**: CÃ³ thá»ƒ in Ä‘Æ¡n hÃ ng hoáº·c gá»­i email cho nhÃ  cung cáº¥p

**Tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng**:
- **pending**: Äang soáº¡n tháº£o, chÆ°a gá»­i
- **ordered**: ÄÃ£ gá»­i cho nhÃ  cung cáº¥p
- **received**: ÄÃ£ nháº­n hÃ ng Ä‘áº§y Ä‘á»§
- **cancelled**: ÄÃ£ há»§y Ä‘Æ¡n

**Xá»­ lÃ½ lá»—i**:
- KhÃ´ng cÃ³ nguyÃªn liá»‡u trong Ä‘Æ¡n: "Vui lÃ²ng thÃªm Ã­t nháº¥t má»™t nguyÃªn liá»‡u"
- Sá»‘ lÆ°á»£ng khÃ´ng há»£p lá»‡: "Sá»‘ lÆ°á»£ng pháº£i lá»›n hÆ¡n 0"
- ÄÆ¡n giÃ¡ khÃ´ng há»£p lá»‡: "ÄÆ¡n giÃ¡ pháº£i lÃ  sá»‘ dÆ°Æ¡ng"

---

#### 3.4.2 XÃ¡c Nháº­n Gá»­i ÄÆ¡n Äáº·t HÃ ng

**Má»¥c tiÃªu**: Gá»­i Ä‘Æ¡n Ä‘áº·t hÃ ng cho nhÃ  cung cáº¥p

**Quy trÃ¬nh**:

1. **BÆ°á»›c 1**: Má»Ÿ Ä‘Æ¡n Ä‘áº·t hÃ ng á»Ÿ tráº¡ng thÃ¡i "pending"
2. **BÆ°á»›c 2**: Kiá»ƒm tra láº¡i thÃ´ng tin
3. **BÆ°á»›c 3**: Nháº¥n "XÃ¡c Nháº­n Gá»­i ÄÆ¡n"
4. **BÆ°á»›c 4**: Tráº¡ng thÃ¡i chuyá»ƒn sang "ordered"
5. **BÆ°á»›c 5**: Ghi nháº­n thá»i gian gá»­i Ä‘Æ¡n
6. **BÆ°á»›c 6**: TÃ¹y chá»n gá»­i email tá»± Ä‘á»™ng cho nhÃ  cung cáº¥p

**LÆ°u Ã½**:
- Sau khi gá»­i, khÃ´ng thá»ƒ chá»‰nh sá»­a thÃ´ng tin Ä‘Æ¡n hÃ ng
- Chá»‰ cÃ³ thá»ƒ há»§y Ä‘Æ¡n náº¿u cáº§n

---

#### 3.4.3 Nháº­n HÃ ng vÃ  Nháº­p Kho

**Má»¥c tiÃªu**: XÃ¡c nháº­n nháº­n hÃ ng vÃ  cáº­p nháº­t tá»“n kho

**NgÆ°á»i tham gia chÃ­nh**: Quáº£n lÃ½ kho, NhÃ¢n viÃªn kho

**Äiá»u kiá»‡n tiÃªn quyáº¿t**:
- ÄÆ¡n Ä‘áº·t hÃ ng á»Ÿ tráº¡ng thÃ¡i "ordered"
- HÃ ng Ä‘Ã£ Ä‘Æ°á»£c giao Ä‘áº¿n

**Quy trÃ¬nh chi tiáº¿t**:

1. **BÆ°á»›c 1**: Truy cáº­p Ä‘Æ¡n Ä‘áº·t hÃ ng cáº§n nháº­n
2. **BÆ°á»›c 2**: Nháº¥n "Nháº­n HÃ ng"
3. **BÆ°á»›c 3**: Kiá»ƒm tra vÃ  nháº­p thÃ´ng tin thá»±c táº¿:
   - NgÃ y nháº­n hÃ ng: Tá»± Ä‘á»™ng (ngÃ y hiá»‡n táº¡i)
   - Äá»‘i chiáº¿u tá»«ng nguyÃªn liá»‡u:
     - Sá»‘ lÆ°á»£ng Ä‘áº·t vs sá»‘ lÆ°á»£ng nháº­n
     - Cháº¥t lÆ°á»£ng hÃ ng hÃ³a
     - Háº¡n sá»­ dá»¥ng (náº¿u cÃ³)
4. **BÆ°á»›c 4**: Nháº­p sá»‘ lÆ°á»£ng thá»±c táº¿ nháº­n cho tá»«ng nguyÃªn liá»‡u
5. **BÆ°á»›c 5**: Náº¿u nguyÃªn liá»‡u cÃ³ háº¡n sá»­ dá»¥ng, nháº­p thÃ´ng tin lÃ´ hÃ ng:
   - Sá»‘ lÃ´ (batchNumber)
   - Háº¡n sá»­ dá»¥ng (expiryDate)
   - ÄÆ¡n giÃ¡ thá»±c táº¿
6. **BÆ°á»›c 6**: Há»‡ thá»‘ng tá»± Ä‘á»™ng:
   - Táº¡o giao dá»‹ch nháº­p kho (type = "in")
   - Cáº­p nháº­t currentStock cho má»—i nguyÃªn liá»‡u
   - Táº¡o báº£n ghi IngredientBatch (náº¿u cÃ³)
   - Cáº­p nháº­t unitCost trung bÃ¬nh
7. **BÆ°á»›c 7**: Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng:
   - Náº¿u nháº­n Ä‘á»§: "received"
   - Náº¿u nháº­n thiáº¿u: Ghi chÃº sá»‘ lÆ°á»£ng thiáº¿u
8. **BÆ°á»›c 8**: Ghi nháº­n ngÃ y nháº­n thá»±c táº¿ (receivedDate)
9. **BÆ°á»›c 9**: In phiáº¿u nháº­p kho

**Xá»­ lÃ½ trÆ°á»ng há»£p Ä‘áº·c biá»‡t**:
- **Nháº­n thiáº¿u hÃ ng**: Ghi nháº­n sá»‘ lÆ°á»£ng thiáº¿u, cÃ³ thá»ƒ táº¡o Ä‘Æ¡n bá»• sung
- **HÃ ng khÃ´ng Ä‘áº¡t cháº¥t lÆ°á»£ng**: Tá»« chá»‘i nháº­n, liÃªn há»‡ nhÃ  cung cáº¥p
- **Nháº­n sai hÃ ng**: Ghi nháº­n vÃ  yÃªu cáº§u Ä‘á»•i tráº£

---

#### 3.4.4 Há»§y ÄÆ¡n Äáº·t HÃ ng

**Má»¥c tiÃªu**: Há»§y Ä‘Æ¡n Ä‘áº·t hÃ ng khi cáº§n thiáº¿t

**Äiá»u kiá»‡n**:
- ÄÆ¡n hÃ ng chÆ°a nháº­n (tráº¡ng thÃ¡i pending hoáº·c ordered)

**Quy trÃ¬nh**:

1. **BÆ°á»›c 1**: Má»Ÿ Ä‘Æ¡n Ä‘áº·t hÃ ng cáº§n há»§y
2. **BÆ°á»›c 2**: Nháº¥n "Há»§y ÄÆ¡n"
3. **BÆ°á»›c 3**: Nháº­p lÃ½ do há»§y
4. **BÆ°á»›c 4**: XÃ¡c nháº­n há»§y
5. **BÆ°á»›c 5**: Tráº¡ng thÃ¡i chuyá»ƒn sang "cancelled"
6. **BÆ°á»›c 6**: ThÃ´ng bÃ¡o cho nhÃ  cung cáº¥p (náº¿u Ä‘Ã£ gá»­i Ä‘Æ¡n)

---

### 3.5 Quáº£n LÃ½ Giao Dá»‹ch Kho

#### 3.5.1 Nháº­p Kho Thá»§ CÃ´ng

**Má»¥c tiÃªu**: Nháº­p kho khÃ´ng qua Ä‘Æ¡n Ä‘áº·t hÃ ng

**TrÆ°á»ng há»£p sá»­ dá»¥ng**:
- Mua hÃ ng trá»±c tiáº¿p táº¡i chá»£
- Nháº­p kho tá»« nguá»“n khÃ¡c
- Äiá»u chuyá»ƒn tá»« kho khÃ¡c

**Quy trÃ¬nh**:

1. **BÆ°á»›c 1**: Truy cáº­p "Quáº£n LÃ½ Kho" â†’ "Giao Dá»‹ch"
2. **BÆ°á»›c 2**: Chá»n "Nháº­p Kho"
3. **BÆ°á»›c 3**: Chá»n nguyÃªn liá»‡u
4. **BÆ°á»›c 4**: Nháº­p thÃ´ng tin:
   - Sá»‘ lÆ°á»£ng nháº­p
   - ÄÆ¡n vá»‹
   - Loáº¡i giao dá»‹ch: "in"
   - Ghi chÃº: Nguá»“n hÃ ng, lÃ½ do
5. **BÆ°á»›c 5**: XÃ¡c nháº­n giao dá»‹ch
6. **BÆ°á»›c 6**: Há»‡ thá»‘ng tá»± Ä‘á»™ng:
   - Táº¡o StockTransaction
   - Cáº­p nháº­t currentStock += quantity
   - Ghi log

---

#### 3.5.2 Xuáº¥t Kho

**Má»¥c tiÃªu**: Ghi nháº­n sá»­ dá»¥ng nguyÃªn liá»‡u cho sáº£n xuáº¥t

**CÃ¡ch thá»©c**:
- **Tá»± Ä‘á»™ng**: Khi xÃ¡c nháº­n Ä‘Æ¡n hÃ ng, há»‡ thá»‘ng tá»± Ä‘á»™ng trá»« nguyÃªn liá»‡u theo cÃ´ng thá»©c
- **Thá»§ cÃ´ng**: Xuáº¥t kho cho má»¥c Ä‘Ã­ch khÃ¡c

**Quy trÃ¬nh xuáº¥t kho thá»§ cÃ´ng**:

1. **BÆ°á»›c 1**: Truy cáº­p "Giao Dá»‹ch" â†’ "Xuáº¥t Kho"
2. **BÆ°á»›c 2**: Chá»n nguyÃªn liá»‡u
3. **BÆ°á»›c 3**: Nháº­p sá»‘ lÆ°á»£ng xuáº¥t
4. **BÆ°á»›c 4**: Nháº­p lÃ½ do: Sáº£n xuáº¥t, Hao há»¥t, KhÃ¡c
5. **BÆ°á»›c 5**: XÃ¡c nháº­n
6. **BÆ°á»›c 6**: Há»‡ thá»‘ng:
   - Táº¡o StockTransaction (type = "out")
   - Cáº­p nháº­t currentStock -= quantity
   - Kiá»ƒm tra tá»“n kho, táº¡o cáº£nh bÃ¡o náº¿u cáº§n

**Quy trÃ¬nh xuáº¥t kho tá»± Ä‘á»™ng**:

1. Khi Ä‘Æ¡n hÃ ng chuyá»ƒn sang tráº¡ng thÃ¡i "preparing"
2. Há»‡ thá»‘ng láº¥y danh sÃ¡ch mÃ³n Äƒn trong Ä‘Æ¡n
3. TÃ­nh toÃ¡n nguyÃªn liá»‡u cáº§n dá»±a trÃªn Recipe
4. Táº¡o StockTransaction cho má»—i nguyÃªn liá»‡u
5. Trá»« tá»“n kho tÆ°Æ¡ng á»©ng
6. Náº¿u tá»“n kho khÃ´ng Ä‘á»§, cáº£nh bÃ¡o

---

#### 3.5.3 Äiá»u Chá»‰nh Tá»“n Kho

**Má»¥c tiÃªu**: Äiá»u chá»‰nh sá»‘ lÆ°á»£ng tá»“n kho sau kiá»ƒm kÃª

**TrÆ°á»ng há»£p sá»­ dá»¥ng**:
- Sai sá»‘ nháº­p liá»‡u
- Kiá»ƒm kÃª Ä‘á»‹nh ká»³
- PhÃ¡t hiá»‡n hÃ ng hÆ° há»ng

**Quy trÃ¬nh**:

1. **BÆ°á»›c 1**: Truy cáº­p "Giao Dá»‹ch" â†’ "Äiá»u Chá»‰nh"
2. **BÆ°á»›c 2**: Chá»n nguyÃªn liá»‡u cáº§n Ä‘iá»u chá»‰nh
3. **BÆ°á»›c 3**: Xem tá»“n kho hiá»‡n táº¡i trong há»‡ thá»‘ng
4. **BÆ°á»›c 4**: Nháº­p tá»“n kho thá»±c táº¿ sau kiá»ƒm kÃª
5. **BÆ°á»›c 5**: Há»‡ thá»‘ng tÃ­nh chÃªnh lá»‡ch
6. **BÆ°á»›c 6**: Nháº­p lÃ½ do Ä‘iá»u chá»‰nh
7. **BÆ°á»›c 7**: XÃ¡c nháº­n
8. **BÆ°á»›c 8**: Há»‡ thá»‘ng:
   - Táº¡o StockTransaction (type = "adjustment")
   - Cáº­p nháº­t currentStock = actual quantity
   - Ghi log chi tiáº¿t

---

#### 3.5.4 Ghi Nháº­n Hao Há»¥t

**Má»¥c tiÃªu**: Ghi nháº­n nguyÃªn liá»‡u hÆ° há»ng, háº¿t háº¡n

**Quy trÃ¬nh**:

1. **BÆ°á»›c 1**: Truy cáº­p "Giao Dá»‹ch" â†’ "Hao Há»¥t"
2. **BÆ°á»›c 2**: Chá»n nguyÃªn liá»‡u
3. **BÆ°á»›c 3**: Chá»n lÃ´ hÃ ng (náº¿u cÃ³)
4. **BÆ°á»›c 4**: Nháº­p sá»‘ lÆ°á»£ng hao há»¥t
5. **BÆ°á»›c 5**: Chá»n lÃ½ do:
   - Háº¿t háº¡n sá»­ dá»¥ng
   - HÆ° há»ng trong báº£o quáº£n
   - Sai sÃ³t trong cháº¿ biáº¿n
   - Máº¥t mÃ¡t, há»ng hÃ³c
6. **BÆ°á»›c 6**: XÃ¡c nháº­n
7. **BÆ°á»›c 7**: Há»‡ thá»‘ng:
   - Táº¡o StockTransaction (type = "waste")
   - Trá»« tá»“n kho
   - Cáº­p nháº­t remainingQuantity cá»§a batch (náº¿u cÃ³)
   - Ghi log Ä‘á»ƒ bÃ¡o cÃ¡o

---

#### 3.5.5 Xem Lá»‹ch Sá»­ Giao Dá»‹ch

**Má»¥c tiÃªu**: Tra cá»©u lá»‹ch sá»­ nháº­p/xuáº¥t/Ä‘iá»u chá»‰nh

**Chá»©c nÄƒng**:
- Xem táº¥t cáº£ giao dá»‹ch cá»§a má»™t nguyÃªn liá»‡u
- Lá»c theo loáº¡i giao dá»‹ch
- Lá»c theo thá»i gian
- Lá»c theo ngÆ°á»i thá»±c hiá»‡n
- Xuáº¥t bÃ¡o cÃ¡o

**ThÃ´ng tin hiá»ƒn thá»‹**:
- Thá»i gian giao dá»‹ch
- Loáº¡i giao dá»‹ch
- NguyÃªn liá»‡u
- Sá»‘ lÆ°á»£ng (+/-)
- Tá»“n kho sau giao dá»‹ch
- NgÆ°á»i thá»±c hiá»‡n
- Ghi chÃº

---

### 3.6 Quáº£n LÃ½ LÃ´ HÃ ng vÃ  Háº¡n Sá»­ Dá»¥ng

#### 3.6.1 Theo DÃµi LÃ´ HÃ ng

**Má»¥c tiÃªu**: Quáº£n lÃ½ nguyÃªn liá»‡u theo tá»«ng lÃ´ nháº­p vá»

**Lá»£i Ã­ch**:
- Truy xuáº¥t nguá»“n gá»‘c
- Quáº£n lÃ½ háº¡n sá»­ dá»¥ng
- Xuáº¥t kho theo FIFO (First In First Out)
- TÃ­nh giÃ¡ vá»‘n chÃ­nh xÃ¡c

**Quy trÃ¬nh tá»± Ä‘á»™ng**:
- Khi nháº­n hÃ ng tá»« Ä‘Æ¡n Ä‘áº·t hÃ ng
- Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o IngredientBatch
- LÆ°u thÃ´ng tin: sá»‘ lÃ´, sá»‘ lÆ°á»£ng, háº¡n sá»­ dá»¥ng, giÃ¡

**Quy trÃ¬nh thá»§ cÃ´ng**:
1. Truy cáº­p "Quáº£n LÃ½ Kho" â†’ "LÃ´ HÃ ng"
2. Chá»n "ThÃªm LÃ´ HÃ ng Má»›i"
3. Chá»n nguyÃªn liá»‡u
4. Nháº­p thÃ´ng tin lÃ´:
   - Sá»‘ lÃ´
   - Sá»‘ lÆ°á»£ng
   - Háº¡n sá»­ dá»¥ng
   - NgÃ y nháº­n
   - GiÃ¡ Ä‘Æ¡n vá»‹
5. LÆ°u thÃ´ng tin

---

#### 3.6.2 Xuáº¥t Kho Theo FIFO

**Má»¥c tiÃªu**: Æ¯u tiÃªn xuáº¥t hÃ ng nháº­p trÆ°á»›c

**Quy trÃ¬nh**:

1. Khi cÃ³ lá»‡nh xuáº¥t kho
2. Há»‡ thá»‘ng tÃ¬m cÃ¡c lÃ´ hÃ ng cÃ²n tá»“n
3. Sáº¯p xáº¿p theo ngÃ y nháº­n (cÅ© nháº¥t trÆ°á»›c)
4. Trá»« sá»‘ lÆ°á»£ng tá»« lÃ´ cÅ© nháº¥t
5. Náº¿u lÃ´ Ä‘Ã³ khÃ´ng Ä‘á»§, trá»« tiáº¿p tá»« lÃ´ tiáº¿p theo
6. Cáº­p nháº­t remainingQuantity cho cÃ¡c lÃ´

**VÃ­ dá»¥**:
- Cáº§n xuáº¥t 15kg gáº¡o
- LÃ´ 1 (01/01/2024): CÃ²n 10kg
- LÃ´ 2 (05/01/2024): CÃ²n 20kg
- Káº¿t quáº£: Trá»« 10kg tá»« LÃ´ 1, 5kg tá»« LÃ´ 2

---

#### 3.6.3 Cáº£nh BÃ¡o HÃ ng Sáº¯p Háº¿t Háº¡n

**Má»¥c tiÃªu**: ThÃ´ng bÃ¡o ká»‹p thá»i Ä‘á»ƒ xá»­ lÃ½

**Quy trÃ¬nh tá»± Ä‘á»™ng**:

1. Há»‡ thá»‘ng cháº¡y job Ä‘á»‹nh ká»³ (má»—i ngÃ y)
2. Kiá»ƒm tra táº¥t cáº£ lÃ´ hÃ ng
3. TÃ¬m lÃ´ cÃ³ expiryDate trong vÃ²ng 7 ngÃ y
4. Táº¡o StockAlert (type = "expiring_soon")
5. Gá»­i thÃ´ng bÃ¡o cho quáº£n lÃ½ kho
6. Hiá»ƒn thá»‹ trÃªn dashboard

**Xá»­ lÃ½ cáº£nh bÃ¡o**:
- Æ¯u tiÃªn sá»­ dá»¥ng trong sáº£n xuáº¥t
- Giáº£m giÃ¡ Ä‘á»ƒ tiÃªu thá»¥ nhanh
- Chuyá»ƒn Ä‘á»•i má»¥c Ä‘Ã­ch sá»­ dá»¥ng (náº¿u Ä‘Æ°á»£c)
- Thanh lÃ½ trÆ°á»›c khi háº¿t háº¡n

---

#### 3.6.4 Xá»­ LÃ½ HÃ ng Háº¿t Háº¡n

**Quy trÃ¬nh**:

1. Há»‡ thá»‘ng phÃ¡t hiá»‡n lÃ´ hÃ ng háº¿t háº¡n
2. Táº¡o StockAlert (type = "expired")
3. ThÃ´ng bÃ¡o cho quáº£n lÃ½ kho
4. Quáº£n lÃ½ kho kiá»ƒm tra thá»±c táº¿
5. Ghi nháº­n hao há»¥t (StockTransaction type = "waste")
6. Trá»« tá»“n kho
7. Cáº­p nháº­t tráº¡ng thÃ¡i lÃ´ hÃ ng
8. Ghi log cho bÃ¡o cÃ¡o

---

### 3.7 Há»‡ Thá»‘ng Cáº£nh BÃ¡o Tá»“n Kho

#### 3.7.1 Cáº£nh BÃ¡o Tá»“n Kho Tháº¥p

**KÃ­ch hoáº¡t**: currentStock < minimumStock

**Quy trÃ¬nh tá»± Ä‘á»™ng**:

1. Sau má»—i giao dá»‹ch xuáº¥t kho/Ä‘iá»u chá»‰nh
2. Há»‡ thá»‘ng kiá»ƒm tra currentStock
3. So sÃ¡nh vá»›i minimumStock
4. Náº¿u tháº¥p hÆ¡n, táº¡o StockAlert (type = "low_stock")
5. Gá»­i thÃ´ng bÃ¡o cho:
   - Quáº£n lÃ½ kho
   - NhÃ¢n viÃªn mua hÃ ng
   - Quáº£n lÃ½ nhÃ  hÃ ng
6. Hiá»ƒn thá»‹ badge cáº£nh bÃ¡o trÃªn dashboard

**ThÃ´ng tin cáº£nh bÃ¡o**:
- NguyÃªn liá»‡u bá»‹ thiáº¿u
- Sá»‘ lÆ°á»£ng hiá»‡n táº¡i
- Má»©c tá»‘i thiá»ƒu
- Sá»‘ lÆ°á»£ng cáº§n Ä‘áº·t hÃ ng (Ä‘á» xuáº¥t)
- NhÃ  cung cáº¥p gá»£i Ã½

---

#### 3.7.2 Xá»­ LÃ½ Cáº£nh BÃ¡o

**Quy trÃ¬nh**:

1. **BÆ°á»›c 1**: Xem danh sÃ¡ch cáº£nh bÃ¡o
2. **BÆ°á»›c 2**: ÄÃ¡nh giÃ¡ má»©c Ä‘á»™ Æ°u tiÃªn
3. **BÆ°á»›c 3**: Thá»±c hiá»‡n hÃ nh Ä‘á»™ng:
   - Táº¡o Ä‘Æ¡n Ä‘áº·t hÃ ng
   - Äiá»u chá»‰nh má»©c tá»“n kho tá»‘i thiá»ƒu
   - TÃ¬m nhÃ  cung cáº¥p thay tháº¿
4. **BÆ°á»›c 4**: ÄÃ¡nh dáº¥u cáº£nh bÃ¡o Ä‘Ã£ xá»­ lÃ½
5. **BÆ°á»›c 5**: Ghi chÃº hÃ nh Ä‘á»™ng Ä‘Ã£ thá»±c hiá»‡n

---

#### 3.7.3 BÃ¡o CÃ¡o Cáº£nh BÃ¡o

**Ná»™i dung**:
- Sá»‘ lÆ°á»£ng cáº£nh bÃ¡o theo loáº¡i
- Thá»i gian pháº£n há»“i trung bÃ¬nh
- NguyÃªn liá»‡u hay bá»‹ cáº£nh bÃ¡o
- Xu hÆ°á»›ng cáº£nh bÃ¡o theo thá»i gian

---

### 3.8 Quáº£n LÃ½ CÃ´ng Thá»©c (Recipes)

#### 3.8.1 Thiáº¿t Láº­p CÃ´ng Thá»©c MÃ³n Ä‚n

**Má»¥c tiÃªu**: Äá»‹nh lÆ°á»£ng nguyÃªn liá»‡u cho tá»«ng mÃ³n

**NgÆ°á»i tham gia chÃ­nh**: Äáº§u báº¿p, Quáº£n lÃ½ báº¿p, Quáº£n lÃ½ nhÃ  hÃ ng

**Quy trÃ¬nh**:

1. **BÆ°á»›c 1**: Truy cáº­p "Quáº£n LÃ½ Menu" â†’ Chá»n mÃ³n Äƒn
2. **BÆ°á»›c 2**: Nháº¥n tab "CÃ´ng Thá»©c"
3. **BÆ°á»›c 3**: Nháº¥n "ThÃªm NguyÃªn Liá»‡u"
4. **BÆ°á»›c 4**: Chá»n nguyÃªn liá»‡u tá»« danh sÃ¡ch
5. **BÆ°á»›c 5**: Nháº­p sá»‘ lÆ°á»£ng cáº§n thiáº¿t cho 1 pháº§n
6. **BÆ°á»›c 6**: Chá»n Ä‘Æ¡n vá»‹ (pháº£i khá»›p vá»›i Ä‘Æ¡n vá»‹ trong kho)
7. **BÆ°á»›c 7**: ThÃªm ghi chÃº náº¿u cáº§n
8. **BÆ°á»›c 8**: LÆ°u cÃ´ng thá»©c
9. **BÆ°á»›c 9**: Láº·p láº¡i cho cÃ¡c nguyÃªn liá»‡u khÃ¡c

**VÃ­ dá»¥ - CÃ´ng thá»©c Phá»Ÿ BÃ²**:
- BÃ¡nh phá»Ÿ: 200g
- Thá»‹t bÃ²: 150g
- HÃ nh tÃ¢y: 30g
- Rau thÆ¡m: 20g
- NÆ°á»›c dÃ¹ng: 500ml
- Gia vá»‹ phá»Ÿ: 15g

---

#### 3.8.2 TÃ­nh ToÃ¡n Chi PhÃ­ MÃ³n Ä‚n

**Má»¥c tiÃªu**: XÃ¡c Ä‘á»‹nh giÃ¡ vá»‘n mÃ³n Äƒn

**CÃ´ng thá»©c**:
```
Chi phÃ­ mÃ³n = Î£ (Sá»‘ lÆ°á»£ng nguyÃªn liá»‡u Ã— GiÃ¡ Ä‘Æ¡n vá»‹)
Tá»· lá»‡ chi phÃ­ = (Chi phÃ­ mÃ³n / GiÃ¡ bÃ¡n) Ã— 100%
```

**Quy trÃ¬nh tá»± Ä‘á»™ng**:
1. Há»‡ thá»‘ng láº¥y cÃ´ng thá»©c mÃ³n Äƒn
2. Láº¥y giÃ¡ Ä‘Æ¡n vá»‹ (unitCost) cá»§a tá»«ng nguyÃªn liá»‡u
3. TÃ­nh tá»•ng chi phÃ­ nguyÃªn liá»‡u
4. So sÃ¡nh vá»›i giÃ¡ bÃ¡n
5. TÃ­nh tá»· lá»‡ chi phÃ­ (food cost %)
6. Cáº£nh bÃ¡o náº¿u tá»· lá»‡ > 35% (tÃ¹y cáº¥u hÃ¬nh)

---

#### 3.8.3 Kiá»ƒm Tra TÃ­nh Kháº£ Dá»¥ng MÃ³n Ä‚n

**Má»¥c tiÃªu**: Kiá»ƒm tra xem cÃ³ Ä‘á»§ nguyÃªn liá»‡u khÃ´ng

**Quy trÃ¬nh tá»± Ä‘á»™ng**:

1. Khi khÃ¡ch Ä‘áº·t mÃ³n
2. Há»‡ thá»‘ng láº¥y cÃ´ng thá»©c
3. Kiá»ƒm tra currentStock cá»§a tá»«ng nguyÃªn liá»‡u
4. So sÃ¡nh vá»›i sá»‘ lÆ°á»£ng cáº§n
5. Náº¿u Ä‘á»§: Cho phÃ©p Ä‘áº·t
6. Náº¿u khÃ´ng Ä‘á»§: 
   - ÄÃ¡nh dáº¥u mÃ³n "Háº¿t hÃ ng"
   - ThÃ´ng bÃ¡o cho nhÃ¢n viÃªn
   - Gá»£i Ã½ mÃ³n thay tháº¿

---

### 3.9 BÃ¡o CÃ¡o vÃ  PhÃ¢n TÃ­ch

#### 3.9.1 BÃ¡o CÃ¡o Tá»“n Kho

**Ná»™i dung**:
- Danh sÃ¡ch nguyÃªn liá»‡u vÃ  sá»‘ lÆ°á»£ng tá»“n
- GiÃ¡ trá»‹ tá»“n kho (sá»‘ lÆ°á»£ng Ã— Ä‘Æ¡n giÃ¡)
- PhÃ¢n loáº¡i theo danh má»¥c
- Tá»· lá»‡ tá»“n kho (so vá»›i tá»‘i thiá»ƒu)

**Lá»c vÃ  sáº¯p xáº¿p**:
- Theo danh má»¥c
- Theo giÃ¡ trá»‹ (cao Ä‘áº¿n tháº¥p)
- Theo tráº¡ng thÃ¡i (Ä‘á»§/tháº¥p/háº¿t)

---

#### 3.9.2 BÃ¡o CÃ¡o Nháº­p - Xuáº¥t - Tá»“n

**Ká»³ bÃ¡o cÃ¡o**: NgÃ y, Tuáº§n, ThÃ¡ng, QuÃ½, NÄƒm, TÃ¹y chá»‰nh

**Ná»™i dung**:
- Tá»“n Ä‘áº§u ká»³
- Nháº­p trong ká»³ (sá»‘ lÆ°á»£ng, giÃ¡ trá»‹)
- Xuáº¥t trong ká»³ (sá»‘ lÆ°á»£ng, giÃ¡ trá»‹)
- Äiá»u chá»‰nh, hao há»¥t
- Tá»“n cuá»‘i ká»³

**CÃ´ng thá»©c**:
```
Tá»“n cuá»‘i = Tá»“n Ä‘áº§u + Nháº­p - Xuáº¥t + Äiá»u chá»‰nh
```

---

#### 3.9.3 BÃ¡o CÃ¡o NhÃ  Cung Cáº¥p

**Ná»™i dung**:
- Tá»•ng giÃ¡ trá»‹ Ä‘Æ¡n hÃ ng theo nhÃ  cung cáº¥p
- Sá»‘ lÆ°á»£ng Ä‘Æ¡n hÃ ng
- Tá»· lá»‡ giao hÃ ng Ä‘Ãºng háº¡n
- ÄÃ¡nh giÃ¡ cháº¥t lÆ°á»£ng
- NhÃ  cung cáº¥p uy tÃ­n nháº¥t

---

#### 3.9.4 BÃ¡o CÃ¡o Hao Há»¥t

**Má»¥c Ä‘Ã­ch**: PhÃ¢n tÃ­ch nguyÃªn nhÃ¢n vÃ  giáº£m thiá»ƒu

**Ná»™i dung**:
- Tá»•ng giÃ¡ trá»‹ hao há»¥t
- PhÃ¢n loáº¡i theo nguyÃªn nhÃ¢n
- Top nguyÃªn liá»‡u hao há»¥t nhiá»u nháº¥t
- Xu hÆ°á»›ng hao há»¥t theo thá»i gian
- Äá» xuáº¥t cáº£i thiá»‡n

---

#### 3.9.5 BÃ¡o CÃ¡o Hiá»‡u Suáº¥t Kho

**Chá»‰ sá»‘ quan trá»ng**:

1. **VÃ²ng quay kho (Inventory Turnover)**:
```
VÃ²ng quay = GiÃ¡ vá»‘n hÃ ng bÃ¡n / Tá»“n kho trung bÃ¬nh
```

2. **Sá»‘ ngÃ y tá»“n kho (Days Inventory Outstanding)**:
```
DIO = 365 / VÃ²ng quay kho
```

3. **Tá»· lá»‡ hao há»¥t**:
```
Tá»· lá»‡ hao há»¥t = (GiÃ¡ trá»‹ hao há»¥t / GiÃ¡ trá»‹ nháº­p) Ã— 100%
```

4. **Äá»™ chÃ­nh xÃ¡c tá»“n kho**:
```
Äá»™ chÃ­nh xÃ¡c = (1 - |Tá»“n thá»±c táº¿ - Tá»“n há»‡ thá»‘ng| / Tá»“n há»‡ thá»‘ng) Ã— 100%
```

---

## 4. Quy TrÃ¬nh Hoáº¡t Äá»™ng Tá»•ng Há»£p

### 4.1 Quy TrÃ¬nh Kiá»ƒm KÃª Äá»‹nh Ká»³

**Táº§n suáº¥t**: HÃ ng thÃ¡ng hoáº·c quÃ½

**Quy trÃ¬nh**:

1. **Chuáº©n bá»‹**:
   - Láº­p káº¿ hoáº¡ch kiá»ƒm kÃª
   - PhÃ¢n cÃ´ng nhÃ¢n sá»±
   - In danh sÃ¡ch nguyÃªn liá»‡u
   
2. **Thá»±c hiá»‡n**:
   - Äáº¿m thá»±c táº¿ tá»«ng nguyÃªn liá»‡u
   - Ghi nháº­n vÃ o phiáº¿u kiá»ƒm kÃª
   - Kiá»ƒm tra háº¡n sá»­ dá»¥ng
   
3. **Äá»‘i chiáº¿u**:
   - So sÃ¡nh thá»±c táº¿ vá»›i há»‡ thá»‘ng
   - Ghi nháº­n chÃªnh lá»‡ch
   - Äiá»u tra nguyÃªn nhÃ¢n
   
4. **Äiá»u chá»‰nh**:
   - Táº¡o giao dá»‹ch Ä‘iá»u chá»‰nh
   - Cáº­p nháº­t tá»“n kho trong há»‡ thá»‘ng
   - BÃ¡o cÃ¡o káº¿t quáº£

5. **Xá»­ lÃ½**:
   - Xá»­ lÃ½ hÃ ng háº¿t háº¡n
   - Xá»­ lÃ½ hÃ ng hÆ° há»ng
   - Äá» xuáº¥t cáº£i tiáº¿n

---

### 4.2 Quy TrÃ¬nh Äáº·t HÃ ng Tá»± Äá»™ng

**Má»¥c Ä‘Ã­ch**: Tá»± Ä‘á»™ng táº¡o Ä‘Æ¡n khi tá»“n kho tháº¥p

**Äiá»u kiá»‡n kÃ­ch hoáº¡t**:
- currentStock < minimumStock
- ChÆ°a cÃ³ Ä‘Æ¡n Ä‘ang Ä‘áº·t cho nguyÃªn liá»‡u nÃ y

**Quy trÃ¬nh**:

1. Há»‡ thá»‘ng phÃ¡t hiá»‡n tá»“n kho tháº¥p
2. TÃ­nh sá»‘ lÆ°á»£ng cáº§n Ä‘áº·t:
```
Sá»‘ lÆ°á»£ng Ä‘áº·t = (Tá»“n kho tá»‘i Æ°u - Tá»“n kho hiá»‡n táº¡i)
Tá»“n kho tá»‘i Æ°u = minimumStock Ã— 2
```
3. TÃ¬m nhÃ  cung cáº¥p Æ°u tiÃªn
4. Táº¡o Ä‘Æ¡n hÃ ng nhÃ¡p (draft)
5. Gá»­i thÃ´ng bÃ¡o cho ngÆ°á»i phÃª duyá»‡t
6. NgÆ°á»i phÃª duyá»‡t xem vÃ  xÃ¡c nháº­n
7. Gá»­i Ä‘Æ¡n cho nhÃ  cung cáº¥p

---

### 4.3 Quy TrÃ¬nh Xá»­ LÃ½ ÄÆ¡n HÃ ng MÃ³n Ä‚n

**Má»¥c Ä‘Ã­ch**: Tá»± Ä‘á»™ng trá»« nguyÃªn liá»‡u khi sáº£n xuáº¥t

**Quy trÃ¬nh**:

1. KhÃ¡ch Ä‘áº·t mÃ³n (Order created)
2. Kiá»ƒm tra tÃ­nh kháº£ dá»¥ng (Recipe availability check)
3. XÃ¡c nháº­n Ä‘Æ¡n (Order confirmed)
4. Chuyá»ƒn sang báº¿p (Status = "preparing")
5. **Há»‡ thá»‘ng tá»± Ä‘á»™ng**:
   - Láº¥y cÃ´ng thá»©c cÃ¡c mÃ³n trong Ä‘Æ¡n
   - TÃ­nh tá»•ng nguyÃªn liá»‡u cáº§n
   - Táº¡o StockTransaction (type = "out")
   - Trá»« currentStock
   - Trá»« remainingQuantity cá»§a batches (FIFO)
6. Kiá»ƒm tra tá»“n kho sau trá»«
7. Táº¡o cáº£nh bÃ¡o náº¿u cáº§n

---

## 5. Best Practices vÃ  LÆ°u Ã

### 5.1 Quáº£n LÃ½ Tá»“n Kho Hiá»‡u Quáº£

**NguyÃªn táº¯c**:
1. **FIFO** (First In First Out): Xuáº¥t hÃ ng nháº­p trÆ°á»›c
2. **Tá»“n kho tá»‘i thiá»ƒu há»£p lÃ½**: KhÃ´ng quÃ¡ cao (vá»‘n á»©), khÃ´ng quÃ¡ tháº¥p (thiáº¿u hÃ ng)
3. **Kiá»ƒm kÃª Ä‘á»‹nh ká»³**: Äáº£m báº£o Ä‘á»™ chÃ­nh xÃ¡c
4. **PhÃ¢n loáº¡i ABC**: 
   - A: NguyÃªn liá»‡u quan trá»ng, giÃ¡ trá»‹ cao
   - B: NguyÃªn liá»‡u trung bÃ¬nh
   - C: NguyÃªn liá»‡u Ã­t quan trá»ng

### 5.2 Giáº£m Thiá»ƒu Hao Há»¥t

**Biá»‡n phÃ¡p**:
- Kiá»ƒm tra háº¡n sá»­ dá»¥ng thÆ°á»ng xuyÃªn
- Báº£o quáº£n Ä‘Ãºng cÃ¡ch (nhiá»‡t Ä‘á»™, Ä‘á»™ áº©m)
- ÄÃ o táº¡o nhÃ¢n viÃªn xá»­ lÃ½ nguyÃªn liá»‡u
- Sá»­ dá»¥ng nguyÃªn liá»‡u gáº§n háº¿t háº¡n trÆ°á»›c
- Kiá»ƒm soÃ¡t cháº·t cháº½ quy trÃ¬nh xuáº¥t kho

### 5.3 Tá»‘i Æ¯u Chi PhÃ­

**Chiáº¿n lÆ°á»£c**:
- So sÃ¡nh giÃ¡ nhiá»u nhÃ  cung cáº¥p
- ÄÃ m phÃ¡n Ä‘iá»u khoáº£n thanh toÃ¡n
- Mua sá»‘ lÆ°á»£ng lá»›n cho nguyÃªn liá»‡u á»•n Ä‘á»‹nh
- Theo dÃµi giÃ¡ thá»‹ trÆ°á»ng
- TÃ­nh toÃ¡n food cost % chÃ­nh xÃ¡c

### 5.4 An ToÃ n Thá»±c Pháº©m

**YÃªu cáº§u**:
- Ghi nháº­n Ä‘áº§y Ä‘á»§ thÃ´ng tin lÃ´ hÃ ng
- Theo dÃµi háº¡n sá»­ dá»¥ng nghiÃªm ngáº·t
- Truy xuáº¥t nguá»“n gá»‘c khi cáº§n
- Xá»­ lÃ½ hÃ ng háº¿t háº¡n ká»‹p thá»i
- TuÃ¢n thá»§ quy Ä‘á»‹nh ATTP

### 5.5 PhÃ¢n Quyá»n

**Quáº£n lÃ½ kho**:
- ToÃ n quyá»n quáº£n lÃ½ nguyÃªn liá»‡u
- Táº¡o vÃ  duyá»‡t Ä‘Æ¡n Ä‘áº·t hÃ ng
- Nháº­p/xuáº¥t/Ä‘iá»u chá»‰nh kho
- Xem táº¥t cáº£ bÃ¡o cÃ¡o

**NhÃ¢n viÃªn kho**:
- Xem danh sÃ¡ch nguyÃªn liá»‡u
- Ghi nháº­n nháº­p/xuáº¥t kho
- Kiá»ƒm tra háº¡n sá»­ dá»¥ng

**Äáº§u báº¿p**:
- Xem nguyÃªn liá»‡u kháº£ dá»¥ng
- Táº¡o vÃ  cáº­p nháº­t cÃ´ng thá»©c
- Äá» xuáº¥t Ä‘áº·t hÃ ng

**Quáº£n lÃ½ nhÃ  hÃ ng**:
- Xem táº¥t cáº£ dá»¯ liá»‡u
- PhÃª duyá»‡t Ä‘Æ¡n hÃ ng lá»›n
- Xem bÃ¡o cÃ¡o tá»•ng há»£p

---

## 6. TÃ­ch Há»£p vá»›i CÃ¡c Module KhÃ¡c

### 6.1 TÃ­ch Há»£p vá»›i Menu Management
- CÃ´ng thá»©c mÃ³n Äƒn (Recipe)
- Kiá»ƒm tra nguyÃªn liá»‡u kháº£ dá»¥ng
- TÃ­nh giÃ¡ vá»‘n mÃ³n Äƒn
- Tá»± Ä‘á»™ng cáº­p nháº­t tráº¡ng thÃ¡i mÃ³n

### 6.2 TÃ­ch Há»£p vá»›i Order Management
- Tá»± Ä‘á»™ng trá»« nguyÃªn liá»‡u khi Ä‘Æ¡n hÃ ng confirmed
- Kiá»ƒm tra kháº£ nÄƒng Ä‘Ã¡p á»©ng Ä‘Æ¡n
- BÃ¡o cÃ¡o tiÃªu hao theo Ä‘Æ¡n hÃ ng

### 6.3 TÃ­ch Há»£p vá»›i Accounting
- TÃ­nh giÃ¡ trá»‹ tá»“n kho
- Ghi nháº­n chi phÃ­ mua hÃ ng
- BÃ¡o cÃ¡o lÃ£i/lá»—
- Theo dÃµi cÃ´ng ná»£ nhÃ  cung cáº¥p

---

## 7. Káº¿t Luáº­n

Há»‡ thá»‘ng quáº£n lÃ½ tá»“n kho lÃ  xÆ°Æ¡ng sá»‘ng cá»§a hoáº¡t Ä‘á»™ng nhÃ  hÃ ng, Ä‘áº£m báº£o:
- âœ… Nguá»“n cung á»•n Ä‘á»‹nh
- âœ… Kiá»ƒm soÃ¡t chi phÃ­ hiá»‡u quáº£
- âœ… Giáº£m thiá»ƒu hao há»¥t
- âœ… Äáº£m báº£o an toÃ n thá»±c pháº©m
- âœ… Há»— trá»£ ra quyáº¿t Ä‘á»‹nh kinh doanh

Viá»‡c sá»­ dá»¥ng há»‡ thá»‘ng má»™t cÃ¡ch Ä‘Ãºng Ä‘áº¯n vÃ  nháº¥t quÃ¡n sáº½ giÃºp nhÃ  hÃ ng hoáº¡t Ä‘á»™ng trÆ¡n tru vÃ  tá»‘i Æ°u lá»£i nhuáº­n.
