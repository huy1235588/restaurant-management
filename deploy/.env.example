# ========================================
# Restaurant Management System
# Environment Configuration
# ========================================

# ========================================
# LOCAL DEVELOPMENT
# ========================================

# Application Environment
NODE_ENV=development

# Database Configuration (PostgreSQL)
# These values match the Docker Compose service
POSTGRES_USER=restaurant_admin
POSTGRES_PASSWORD=restaurant_password
POSTGRES_DB=restaurant_db
POSTGRES_PORT=5432
DATABASE_URL=postgresql://restaurant_admin:restaurant_password@localhost:5432/restaurant_db?schema=public

# Redis Configuration
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# Server Configuration
SERVER_PORT=5000
API_VERSION=v1
API_BASE_URL=http://localhost:5000

# Client Configuration
CLIENT_PORT=3000
CLIENT_URL=http://localhost:3000

# Public URLs for frontend (used by Next.js client)
NEXT_PUBLIC_API_URL=http://localhost:5000/api/v1
NEXT_PUBLIC_SOCKET_URL=http://localhost:5000

# ========================================
# SECRETS (IMPORTANT: Generate new values!)
# ========================================

# JWT Secrets - MUST be changed in production
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# Or PowerShell: -join ((65..90) + (97..122) + (48..57) | Get-Random -Count 32 | % {[char]$_})
JWT_SECRET=CHANGE_THIS_TO_RANDOM_32_CHARS_MINIMUM
JWT_REFRESH_SECRET=CHANGE_THIS_TOO_DIFFERENT_FROM_ABOVE

# JWT Expiration Times
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ========================================
# FILE STORAGE (Optional)
# ========================================

# Storage Type: 'local', 'r2', or 'cloudinary'
STORAGE_TYPE=local

# Cloudflare R2 (Recommended for production)
# Sign up: https://cloudflare.com
R2_ACCOUNT_ID=your_r2_account_id
R2_BUCKET_NAME=your_r2_bucket_name
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_PUBLIC_URL=https://your_r2_public_url

# Cloudinary (Legacy, still supported)
# Sign up: https://cloudinary.com
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# ========================================
# PRODUCTION DEPLOYMENT (Vercel + Railway)
# ========================================
# 
# These are configured in platform dashboards, NOT in .env files:
#
# VERCEL (Frontend):
#   - NEXT_PUBLIC_API_URL=https://your-app.railway.app/api/v1
#   - NEXT_PUBLIC_SOCKET_URL=https://your-app.railway.app
#
# RAILWAY (Backend):
#   - NODE_ENV=production
#   - PORT=3000
#   - DATABASE_URL=(auto-provided by Railway PostgreSQL)
#   - REDIS_URL=(auto-provided by Railway Redis)
#   - JWT_SECRET=(generate secure random value)
#   - JWT_REFRESH_SECRET=(generate secure random value)
#   - CLIENT_URL=https://your-app.vercel.app
#   - API_VERSION=v1
#   - STORAGE_TYPE=r2 (or cloudinary)
#   - R2_* or CLOUDINARY_* credentials
#
# See deploy/README.md for detailed deployment instructions

# ========================================
# DIGITALOCEAN DEPLOYMENT (Alternative)
# ========================================
#
# For VPS deployment, see deploy/digitalocean/README.md
# Uses Docker Compose with all services on single droplet

# ========================================
# OPTIONAL: Advanced Features
# ========================================

# Logging Level (error, warn, info, debug)
LOG_LEVEL=info

# CORS Configuration
# Should match CLIENT_URL for security
CORS_ORIGIN=http://localhost:3000

# Rate Limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session Configuration
SESSION_SECRET=CHANGE_THIS_IN_PRODUCTION_TO_RANDOM_VALUE
SESSION_MAX_AGE=86400000

# Email Configuration (if needed for notifications)
# SMTP_HOST=
# SMTP_PORT=
# SMTP_USER=
# SMTP_PASS=
# EMAIL_FROM=

# ========================================
# NOTES
# ========================================
# 
# 1. Copy this file to .env in the same directory
# 2. Update all CHANGE_THIS values with secure random values
# 3. For production, use platform environment variable UIs
# 4. Never commit .env files to version control
# 5. See deploy/README.md for deployment guides
